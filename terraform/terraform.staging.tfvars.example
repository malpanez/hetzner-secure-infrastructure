# ============================================================================
# Staging Environment Configuration
# ============================================================================
# Quick setup for testing WordPress deployment with cost savings

# Hetzner Cloud API Token
# Get from: https://console.hetzner.cloud/ â†’ Select "Staging" project
hcloud_token = "YOUR_STAGING_HCLOUD_TOKEN_HERE"

# SSH Public Key
# Get with: cat ~/.ssh/id_ed25519.pub
ssh_public_key = "ssh-ed25519 AAAA... malpanez@staging"

# ============================================================================
# Server Configuration - ARM for Cost Savings
# ============================================================================

server_name    = "staging-wordpress"
admin_username = "malpanez"
environment    = "staging"

# Recommended: ARM medium (40% cheaper than x86 large, same RAM)
architecture = "arm"     # Options: "x86" (AMD EPYC) or "arm" (Ampere Altra)
server_size  = "medium"  # Options: "small", "medium", "large", "xlarge"
                         # â†’ Auto-selects: cax21 (4 vCPU, 8GB RAM, â‚¬8.30/mo)
location     = "fsn1"    # Falkenstein (ARM available here)

# Alternative: x86 if you prefer compatibility
# architecture = "x86"
# server_size  = "large"   # cpx31: 4 vCPU, 8GB RAM, â‚¬13.90/mo
# location     = "nbg1"    # Nuremberg

# Cost comparison:
# ARM medium (cax21):  â‚¬8.30/mo  = â‚¬99.60/year
# x86 large (cpx31):   â‚¬13.90/mo = â‚¬166.80/year
# Savings with ARM:    â‚¬5.60/mo  = â‚¬67.20/year (40% cheaper!)

# ============================================================================
# Network & Firewall
# ============================================================================

ssh_port        = 22
ssh_allowed_ips = ["0.0.0.0/0", "::/0"]  # Allow from anywhere (staging only!)

# Enable web traffic
allow_http  = true   # Port 80 (redirects to HTTPS)
allow_https = true   # Port 443

# ============================================================================
# Backups & Protection
# ============================================================================

# Enable backups (adds 20% = ~â‚¬1.66/mo for ARM medium)
# Disable for testing to save costs
prevent_destroy = false  # Allow easy destroy for staging

# ============================================================================
# DNS & Domain (Configure after deployment)
# ============================================================================

domain              = "staging.twomindstrading.com"
reverse_dns_enabled = false

# Cloudflare (configure after DNS migration)
# cloudflare_api_token = "YOUR_CLOUDFLARE_TOKEN"
# enable_cloudflare    = true

# ============================================================================
# Optional Features (Disabled for staging to save costs)
# ============================================================================

volume_size        = 0      # No additional volume
enable_floating_ip = false  # No floating IP

# Labels for organization
labels = {
  project     = "wordpress-trading-academy"
  owner       = "malpanez"
  environment = "staging"
  cost_center = "development"
}

# ============================================================================
# Server Size Reference (Auto-selected based on architecture + server_size)
# ============================================================================
#
# x86 (AMD EPYC) - Available in ALL locations:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Size   â”‚ Type     â”‚ vCPU â”‚ RAM  â”‚ Disk   â”‚ Price/mo  â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ small  â”‚ cpx11    â”‚ 2    â”‚ 2GB  â”‚ 40GB   â”‚ â‚¬4.50     â”‚
# â”‚ medium â”‚ cpx21    â”‚ 3    â”‚ 4GB  â”‚ 80GB   â”‚ â‚¬8.50     â”‚
# â”‚ large  â”‚ cpx31    â”‚ 4    â”‚ 8GB  â”‚ 160GB  â”‚ â‚¬13.90    â”‚
# â”‚ xlarge â”‚ cpx41    â”‚ 8    â”‚ 16GB â”‚ 240GB  â”‚ â‚¬26.90    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# ARM (Ampere Altra) - Only in: fsn1, hel1, ash:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Size   â”‚ Type     â”‚ vCPU â”‚ RAM  â”‚ Disk   â”‚ Price/mo  â”‚ Savings    â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ small  â”‚ cax11    â”‚ 2    â”‚ 4GB  â”‚ 40GB   â”‚ â‚¬4.15     â”‚ â‚¬0.35 (8%) â”‚
# â”‚ medium â”‚ cax21    â”‚ 4    â”‚ 8GB  â”‚ 80GB   â”‚ â‚¬8.30     â”‚ â‚¬5.60 (40%)â”‚ â­
# â”‚ large  â”‚ cax31    â”‚ 8    â”‚ 16GB â”‚ 160GB  â”‚ â‚¬16.60    â”‚ â‚¬10.30     â”‚
# â”‚ xlarge â”‚ cax41    â”‚ 16   â”‚ 32GB â”‚ 320GB  â”‚ â‚¬33.20    â”‚ â‚¬20.60     â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# ğŸ’¡ Tips:
#   - ARM "small" has DOUBLE RAM vs x86 (4GB vs 2GB)
#   - ARM "medium" saves 40% vs x86 "large" (same RAM, more CPU!)
#   - For staging: ARM medium @ fsn1 is sweet spot (â‚¬8.30/mo)
#   - For production: x86 large @ nbg1 for reliability (â‚¬13.90/mo)
