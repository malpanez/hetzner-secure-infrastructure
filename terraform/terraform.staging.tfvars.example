# ============================================================================
# Staging Environment Configuration
# ============================================================================
# Quick setup for testing WordPress deployment with cost savings

# Hetzner Cloud API Token
# Get from: https://console.hetzner.cloud/ â†’ Select "Staging" project
hcloud_token = "YOUR_STAGING_HCLOUD_TOKEN_HERE"

# SSH Public Key
# Get with: cat ~/.ssh/id_ed25519.pub
ssh_public_key = "ssh-ed25519 AAAA... malpanez@staging"

# ============================================================================
# Server Configuration - ARM for Cost Savings
# ============================================================================

server_name    = "staging-wordpress"
admin_username = "malpanez"
environment    = "staging"

# Recommended: x86 cost-optimized (CX23 - cheapest overall!)
architecture = "x86"    # Options: "x86" (cost), "x86_perf" (AMD EPYC), "arm" (Ampere)
server_size  = "small"  # Options: "small", "medium", "large", "xlarge"
                        # â†’ Auto-selects: cx23 (2 vCPU, 4GB RAM, â‚¬3.68/mo)
location     = "nbg1"   # Nuremberg (CX available, limited stock!)

# Alternative: ARM small (10% more expensive but better availability)
# architecture = "arm"
# server_size  = "small"   # cax11: 2 vCPU, 4GB RAM, â‚¬4.05/mo
# location     = "fsn1"    # Falkenstein (ARM always available)

# Alternative: ARM medium for more power
# architecture = "arm"
# server_size  = "medium"  # cax21: 4 vCPU, 8GB RAM, â‚¬7.37/mo
# location     = "fsn1"

# Alternative: x86 performance (AMD EPYC guaranteed)
# architecture = "x86_perf"
# server_size  = "small"   # cpx22: 2 vCPU, 4GB RAM, 80GB disk, â‚¬7.37/mo
# location     = "nbg1"

# Cost comparison (real prices 2024-12-30):
# x86 cost-opt (cx23):  â‚¬3.68/mo  = â‚¬44.16/year  â­ CHEAPEST (limited stock!)
# ARM small (cax11):    â‚¬4.05/mo  = â‚¬48.60/year  â­ BEST AVAILABILITY
# ARM medium (cax21):   â‚¬7.37/mo  = â‚¬88.44/year
# x86 perf (cpx22):     â‚¬7.37/mo  = â‚¬88.44/year
# x86 perf (cpx32):     â‚¬12.90/mo = â‚¬154.80/year
#
# Best choice: CX23 if available, otherwise CAX11 (only â‚¬0.37/mo more)

# ============================================================================
# Network & Firewall
# ============================================================================

ssh_port        = 22
ssh_allowed_ips = ["0.0.0.0/0", "::/0"]  # Allow from anywhere (staging only!)

# Enable web traffic
allow_http  = true   # Port 80 (redirects to HTTPS)
allow_https = true   # Port 443

# ============================================================================
# Backups & Protection
# ============================================================================

# Enable backups (adds 20% = ~â‚¬1.66/mo for ARM medium)
# Disable for testing to save costs
prevent_destroy = false  # Allow easy destroy for staging

# ============================================================================
# DNS & Domain (Configure after deployment)
# ============================================================================

domain              = "staging.twomindstrading.com"
reverse_dns_enabled = false

# Cloudflare (configure after DNS migration)
# cloudflare_api_token = "YOUR_CLOUDFLARE_TOKEN"
# enable_cloudflare    = true

# ============================================================================
# Optional Features (Disabled for staging to save costs)
# ============================================================================

volume_size        = 0      # No additional volume
enable_floating_ip = false  # No floating IP

# Labels for organization
labels = {
  project     = "wordpress-trading-academy"
  owner       = "malpanez"
  environment = "staging"
  cost_center = "development"
}

# ============================================================================
# Server Size Reference (Auto-selected based on architecture + server_size)
# Prices updated: 2024-12-30 from Hetzner Cloud Console
# ============================================================================
#
# x86 Cost-Optimized - CX series (architecture="x86"):
# Limited availability, older hardware (Intel/AMD mix), but CHEAPEST!
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Size   â”‚ Type     â”‚ vCPU â”‚ RAM  â”‚ Disk   â”‚ Price/mo  â”‚ vs CAX11   â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ small  â”‚ cx23     â”‚ 2    â”‚ 4GB  â”‚ 40GB   â”‚ â‚¬3.68  â­ â”‚ -â‚¬0.37/mo  â”‚
# â”‚ medium â”‚ cx33     â”‚ 4    â”‚ 8GB  â”‚ 80GB   â”‚ â‚¬6.14     â”‚ -â‚¬1.23/mo  â”‚
# â”‚ large  â”‚ cx43     â”‚ 8    â”‚ 16GB â”‚ 160GB  â”‚ â‚¬11.06    â”‚ -â‚¬3.69/mo  â”‚
# â”‚ xlarge â”‚ cx53     â”‚ 16   â”‚ 32GB â”‚ 320GB  â”‚ â‚¬20.90    â”‚ -â‚¬8.61/mo  â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# ARM (Ampere Altra) - CAX series (architecture="arm"):
# Best availability, modern ARM64 CPUs, great price/performance
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Size   â”‚ Type     â”‚ vCPU â”‚ RAM  â”‚ Disk   â”‚ Price/mo  â”‚ vs CX      â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ small  â”‚ cax11    â”‚ 2    â”‚ 4GB  â”‚ 40GB   â”‚ â‚¬4.05     â”‚ +â‚¬0.37/mo  â”‚
# â”‚ medium â”‚ cax21    â”‚ 4    â”‚ 8GB  â”‚ 80GB   â”‚ â‚¬7.37     â”‚ +â‚¬1.23/mo  â”‚
# â”‚ large  â”‚ cax31    â”‚ 8    â”‚ 16GB â”‚ 160GB  â”‚ â‚¬14.75    â”‚ +â‚¬3.69/mo  â”‚
# â”‚ xlarge â”‚ cax41    â”‚ 16   â”‚ 32GB â”‚ 320GB  â”‚ â‚¬29.51    â”‚ +â‚¬8.61/mo  â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# x86 Performance - CPX series (architecture="x86_perf"):
# Guaranteed AMD EPYC CPUs, NVMe storage, best single-core performance
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Size   â”‚ Type     â”‚ vCPU â”‚ RAM  â”‚ Disk   â”‚ Price/mo  â”‚ vs CX      â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ small  â”‚ cpx22    â”‚ 2    â”‚ 4GB  â”‚ 80GB   â”‚ â‚¬7.37     â”‚ +â‚¬3.69/mo  â”‚
# â”‚ medium â”‚ cpx32    â”‚ 4    â”‚ 8GB  â”‚ 160GB  â”‚ â‚¬12.90    â”‚ +â‚¬6.76/mo  â”‚
# â”‚ large  â”‚ cpx42    â”‚ 8    â”‚ 16GB â”‚ 320GB  â”‚ â‚¬23.97    â”‚ +â‚¬12.91/mo â”‚
# â”‚ xlarge â”‚ cpx52    â”‚ 12   â”‚ 24GB â”‚ 480GB  â”‚ â‚¬34.43    â”‚ +â‚¬13.53/mo â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# ğŸ’¡ Recommendations:
#   - Staging (budget): CX23 @ â‚¬3.68/mo (if available, limited stock!)
#   - Staging (reliable): CAX11 @ â‚¬4.05/mo (always available, ARM64)
#   - Production (small): CAX21 @ â‚¬7.37/mo (4 vCPU, ARM64)
#   - Production (reliable): CPX32 @ â‚¬12.90/mo (AMD EPYC guaranteed)
#
# ğŸ’° Staging yearly costs:
#   - CX23:  â‚¬44.16/year (CHEAPEST, but may not be available)
#   - CAX11: â‚¬48.60/year (best price + guaranteed availability)
#   - CPX22: â‚¬88.44/year (overpaying 82% vs CAX11 for same specs!)
