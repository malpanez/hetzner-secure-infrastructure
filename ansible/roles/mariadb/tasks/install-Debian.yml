---
# MariaDB Role - Debian/Ubuntu Installation Tasks

- name: MariaDB | Install | Add MariaDB APT repository (DEB822)
  ansible.builtin.deb822_repository:
    name: mariadb
    types: [deb]
    uris: "https://mirror.23m.com/mariadb/repo/{{ mariadb_version }}/{{ mariadb_distribution }}"
    suites: "{{ ansible_distribution_release }}"
    components: [main]
    signed_by: "{{ mariadb_gpg_key_url }}"
    state: present
  tags: [mariadb, packages]

- name: MariaDB | Install | Install MariaDB and dependencies
  ansible.builtin.apt:
    name: "{{ mariadb_apt_dependencies + mariadb_apt_packages }}"
    state: present
    update_cache: true
  tags: [mariadb, packages]
