---
# Node Exporter Role - Configuration Tasks

- name: Node Exporter | Configure | Deploy web configuration
  ansible.builtin.template:
    src: web-config.yml.j2
    dest: /etc/node_exporter/web-config.yml
    owner: prometheus
    group: prometheus
    mode: "0644"
  when: node_exporter_web_basic_auth_enabled | default(false) or node_exporter_tls_enabled | default(false)
  notify: restart node-exporter
  tags: [node-exporter, config, security]
