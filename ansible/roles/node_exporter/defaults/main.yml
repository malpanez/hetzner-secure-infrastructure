---
# Node Exporter Role - Default Variables

# ========================================
# Version and Installation
# ========================================

node_exporter_version: 1.7.0
node_exporter_user: node-exporter
node_exporter_group: node-exporter
node_exporter_install_dir: /usr/local/bin
node_exporter_textfile_dir: /var/lib/node_exporter/textfile_collector

# ========================================
# Network Configuration
# ========================================

node_exporter_listen_address: "0.0.0.0"
node_exporter_port: 9100
node_exporter_web_listen_address: "{{ node_exporter_listen_address }}:{{ node_exporter_port }}"

# ========================================
# Enabled Collectors
# ========================================

# Default collectors (always enabled)
node_exporter_enabled_collectors:
  - systemd
  - textfile:
      directory: "{{ node_exporter_textfile_dir }}"
  - processes
  - interrupts
  - tcpstat

# ========================================
# Disabled Collectors
# ========================================

node_exporter_disabled_collectors:
  - mdadm
  - zfs
  - bcache

# ========================================
# Security
# ========================================

# TLS Configuration (optional)
node_exporter_tls_enabled: false
node_exporter_tls_cert_file: /etc/node_exporter/tls/cert.pem
node_exporter_tls_key_file: /etc/node_exporter/tls/key.pem

# Basic auth (optional)
node_exporter_web_basic_auth_enabled: false
node_exporter_web_basic_auth_users: []
#  - username: "prometheus"
#    password: "secure_password"  # Will be bcrypt hashed

# ========================================
# Firewall Configuration
# ========================================

node_exporter_firewall_allowed_ips:
  - 127.0.0.1/32
  # Add your Prometheus server IP here
  # - "{{ prometheus_server_ip }}/32"

# ========================================
# Systemd Service
# ========================================

node_exporter_systemd_restart: on-failure
node_exporter_systemd_restart_sec: 5s
node_exporter_systemd_limit_nofile: 8192

# ========================================
# Additional Configuration
# ========================================

# Extra command-line arguments
node_exporter_extra_args: ""

# Environment variables
node_exporter_env_vars: {}
# ========================================
# Custom Metrics Scripts
# ========================================

# Enable custom metrics collection scripts
node_exporter_custom_metrics_enabled: true

# Custom metric scripts to deploy
node_exporter_custom_scripts:
  - name: disk_usage
    enabled: true
  - name: backup_age
    enabled: true

# ========================================
# Deployment Control
# ========================================

node_exporter_enabled: true
