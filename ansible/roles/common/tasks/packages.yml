---
# Common Role - Package Management Tasks

- name: Common | Packages | Update all packages
  ansible.builtin.apt:
    upgrade: dist
    update_cache: true
    cache_valid_time: 3600
    autoremove: true
    autoclean: true
  when: common_perform_dist_upgrade
  tags: [common, updates, packages]

- name: Common | Packages | Install essential packages
  ansible.builtin.apt:
    name: "{{ common_required_packages }}"
    state: present
    update_cache: false
  tags: [common, packages]

- name: Common | Packages | Install additional security tools
  ansible.builtin.apt:
    name: "{{ common_security_packages }}"
    state: present
    update_cache: false
  tags: [common, packages]
