# Grafana Configuration
# Generated by Ansible - Do not edit manually

##################### Grafana Configuration #####################

[paths]
data = {{ grafana_paths_data }}
logs = {{ grafana_paths_logs }}
plugins = {{ grafana_paths_plugins }}
provisioning = {{ grafana_paths_provisioning }}

[server]
protocol = {{ grafana_server_protocol }}
http_addr = {{ grafana_server_http_addr }}
http_port = {{ grafana_server_http_port }}
domain = {{ grafana_server_domain }}
root_url = {{ grafana_server_root_url }}
serve_from_sub_path = {{ grafana_serve_from_sub_path | lower }}
static_root_path = {{ grafana_server_static_root_path }}
enable_gzip = {{ grafana_server_enable_gzip | lower }}
{% if grafana_server_cert_file %}
cert_file = {{ grafana_server_cert_file }}
cert_key = {{ grafana_server_cert_key }}
{% endif %}

[database]
type = {{ grafana_database_type }}
{% if grafana_database_type == 'sqlite3' %}
path = {{ grafana_database_path }}
{% else %}
host = {{ grafana_database_host }}
name = {{ grafana_database_name }}
user = {{ grafana_database_user }}
password = {{ grafana_database_password }}
{% endif %}

[security]
admin_user = {{ grafana_security_admin_user }}
admin_password = {{ grafana_security_admin_password }}
secret_key = {{ grafana_security_secret_key }}
disable_gravatar = {{ grafana_security_disable_gravatar | lower }}
cookie_secure = {{ grafana_security_cookie_secure | lower }}
cookie_samesite = {{ grafana_security_cookie_samesite }}
strict_transport_security = {{ grafana_security_strict_transport_security | lower }}
x_content_type_options = {{ grafana_security_x_content_type_options | lower }}
x_xss_protection = {{ grafana_security_x_xss_protection | lower }}

[users]
allow_sign_up = {{ grafana_allow_sign_up | lower }}
allow_org_create = {{ grafana_allow_org_create | lower }}
auto_assign_org = {{ grafana_auto_assign_org | lower }}
auto_assign_org_role = {{ grafana_auto_assign_org_role }}
default_theme = {{ grafana_users_default_theme }}

[auth]
disable_login_form = {{ grafana_auth_disable_login_form | lower }}
disable_signout_menu = {{ grafana_auth_disable_signout_menu | lower }}

[auth.anonymous]
enabled = {{ grafana_auth_anonymous_enabled | lower }}

[auth.basic]
enabled = {{ grafana_auth_basic_enabled | lower }}

{% if grafana_auth_ldap_enabled %}
[auth.ldap]
enabled = true
config_file = {{ grafana_config_dir }}/ldap.toml
{% endif %}

[session]
cookie_name = grafana_session
cookie_secure = {{ grafana_cookie_secure | lower }}
cookie_samesite = {{ grafana_cookie_samesite }}
session_life_time = {{ grafana_session_life_time }}

[analytics]
reporting_enabled = {{ grafana_analytics_reporting_enabled | lower }}
check_for_updates = {{ grafana_analytics_check_for_updates | lower }}

[snapshots]
external_enabled = {{ grafana_snapshots_external_enabled | lower }}

{% if grafana_smtp_enabled %}
[smtp]
enabled = true
host = {{ grafana_smtp_host }}
user = {{ grafana_smtp_user }}
password = {{ grafana_smtp_password }}
skip_verify = {{ grafana_smtp_skip_verify | lower }}
from_address = {{ grafana_smtp_from_address }}
from_name = {{ grafana_smtp_from_name }}
{% endif %}

[alerting]
enabled = {{ grafana_alerting_enabled | lower }}
execute_alerts = {{ grafana_alerting_execute_alerts | lower }}
error_or_timeout = {{ grafana_alerting_error_or_timeout }}
nodata_or_nullvalues = {{ grafana_alerting_nodata_or_nullvalues }}
concurrent_render_limit = {{ grafana_alerting_concurrent_render_limit }}

[log]
mode = {{ grafana_log_mode }}
level = {{ grafana_log_level }}

[log.console]
level = {{ grafana_log_level }}

[log.file]
level = {{ grafana_log_level }}
max_days = {{ grafana_log_max_days }}

[metrics]
enabled = {{ grafana_metrics_enabled | lower }}
basic_auth_username =
basic_auth_password =

[dashboards]
versions_to_keep = 20
min_refresh_interval = 5s

[plugins]
enable_alpha = false
app_tls_skip_verify_insecure = false
