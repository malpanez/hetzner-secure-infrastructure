---
# Loki Configuration for Monitoring Servers

# Deployment control
deploy_loki: true

# Version
loki_version: "latest"

# Retention (30 days recommended)
loki_retention_period: "720h"  # 30 days
loki_reject_old_samples_max_age: "720h"

# For extended retention, use 90 days:
# loki_retention_period: "2160h"  # 90 days (~1.8-2.7 GB)

# Ingestion limits
loki_ingestion_rate_mb: 4
loki_ingestion_burst_size_mb: 6

# Query limits
loki_max_query_series: 500
loki_max_query_parallelism: 32

# Logrotate
loki_logrotate_enabled: true
loki_logrotate_size: "100M"
loki_logrotate_rotate: 7
loki_logrotate_compress: true

# Backup
loki_backup_enabled: true
loki_backup_schedule: "0 3 * * *"  # Daily at 3 AM
loki_backup_retention_days: 7

# Firewall (only localhost can access)
loki_firewall_allowed_ips:
  - "127.0.0.1"
  - "::1"
